<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 1.1//EN"
	"http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">

<struts-config>

	<!-- ========== Data Source Configuration ============================= -->
	<data-sources />

	<!-- ========== Form Bean Definitions ================================= -->
	<form-beans>

		<form-bean name="UserLogonForm" type="fr.umlv.desperados.struts.form.UserLogonForm" />

		<form-bean name="UserForm" type="fr.umlv.desperados.struts.form.UserForm" />

		<form-bean name="SearchUserForm" type="fr.umlv.desperados.struts.form.SearchUserForm" />
		
		<form-bean name="SetStyleSheetForm" type="fr.umlv.desperados.struts.form.SetStyleSheetForm" />

	</form-beans>

	<!-- ========== Global Exception Definitions ========================== -->
	<global-exceptions />

	<!-- ========== Global Forward Definitions ============================ -->
	<global-forwards>
		<forward 	name="logon"					path="logon.page" />
		<forward 	name="edituser"				path="user.edit" />
		<forward 	name="searchuser"		path="user.research" />
		<forward 	name="error"					path="error.page" />
	</global-forwards>

	<!-- ========== Action Mapping Definitions ============================ -->
	<action-mappings>

		<action
			path="/userLogon"
			type="fr.umlv.desperados.struts.action.UserLogonAction"
			name="UserLogonForm"
			scope="request"
			input="/pages/form/UserLogon.jsp"
			validate="false">
			<forward name="success"			path="home.page" />
		</action>

		<action
			path="/userLogoff"
			type="fr.umlv.desperados.struts.action.UserLogoffAction">
		</action>

		<action
			path="/editUser"
			type="fr.umlv.desperados.struts.action.EditUserAction"
			attribute="UserForm"
			scope="request"
			input="/pages/form/UserDetails.jsp"
			validate="false">
		</action>

		<action
			path="/saveUser"
			type="fr.umlv.desperados.struts.action.SaveUserAction"
			attribute="UserForm"
			name="UserForm"
			scope="request"
			input="/pages/form/UserDetails.jsp"
			validate="false">
			<forward name="success"			path="operation.ok" />
		</action>

		<action
			path="/search"
			type="fr.umlv.desperados.struts.action.SearchAction">
		</action>

		<action
			path="/searchUser"
			type="fr.umlv.desperados.struts.action.SearchUserAction"
			attribute="SearchUserForm"
			name="SearchUserForm"
			scope="request"
			input="/pages/form/SearchUser.jsp"
			validate="false">
		</action>
		
		<action
			path="/listStyleSheet"
			type="fr.umlv.desperados.struts.action.ListStyleSheetAction"
			attribute="SetStyleSheetForm"
			name="SetStyleSheetForm"
			scope="request"
			input="/pages/form/ListStyleSheet.jsp"
			validate="false">
			<forward name="success" path="/pages/form/ListStyleSheet.jsp" />
		</action>
		
		<action
			path="/setStyleSheet"
			type="fr.umlv.desperados.struts.action.SetStyleSheetAction"
			attribute="SetStyleSheetForm"
			name="SetStyleSheetForm"
			scope="request"
			input="/pages/form/ListStyleSheet.jsp"
			validate="false">
		</action>

	</action-mappings>

	<!-- ========== Controller Configuration ============================== -->
	<controller
		bufferSize="4096"
		contentType="text/html"
		debug="0"
		locale="false"
		maxFileSize="250M"
		multipartClass="org.apache.struts.upload.CommonsMultipartRequestHandler"
		nocache="false"
		processorClass="org.apache.struts.action.RequestProcessor"
		inputForward="false" />

	<!-- ========== Message Resources Definitions ========================= -->
	<message-resources
		factory="org.apache.struts.util.PropertyMessageResourcesFactory"
		key="org.apache.struts.action.MESSAGE"
		null="false"
		parameter="fr.umlv.desperados.struts.ApplicationResources" />

	<!-- ========== Plug Ins Configuration ================================ -->
	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config"
					value="/WEB-INF/tiles-definitions.xml" />
		<set-property property="definitions-parser-validate"
					value="true" />
	</plug-in>

	<plug-in className="fr.umlv.desperados.struts.plugin.PrefsPlugin">
		<set-property property="confPath"
					value="/WEB-INF/mail-conf.xml" />
	</plug-in>

	<plug-in className="fr.umlv.desperados.struts.plugin.InitManagersPlugin" />

</struts-config>